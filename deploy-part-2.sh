#!/bin/bash
os="$(uname -s)"

# Configure OSX and brew install packages
if echo $os | grep 'Darwin'; then
  ./configure-osx.sh
fi
# To be run after installation of oh-my-zsh

# install oh-my-zsh plugins
cd ~/.oh-my-zsh/plugins || exit 1
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git
git clone https://github.com/zsh-users/zsh-autosuggestions.git
git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf && yes | ~/.fzf/install

rm -rf ~/.zshrc #Â remove the default .zshrc generated by the oh-my-zsh install
mkdir -p ~/bin

ln -s ~/.dotfiles/.bash_aliases ~/.bash_aliases
ln -s ~/.dotfiles/.bash_aliases ~/.zsh_aliases
ln -s ~/.dotfiles/.bash_profile ~/.bash_profile
ln -s ~/.dotfiles/.bash_profile_remote ~/.bash_profile_remote
ln -s ~/.dotfiles/.tmux.conf ~/.tmux.conf
ln -s ~/.dotfiles/.vim ~/.vim
ln -s ~/.dotfiles/.vimrc ~/.vimrc
ln -s ~/.dotfiles/.zshrc ~/.zshrc
cp -rs ~/.dotfiles/bin/* ~/bin/

# install vim plugins latest version
cd ~/.dotfiles/.vim/bundle/ || exit 1

rm -rf ~/.dotfiles/.vim/bundle/*
git clone --recursive git@github.com:davidhalter/jedi-vim.git
git clone git@github.com:LucHermitte/alternate-lite.git
git clone git@github.com:LucHermitte/lh-brackets.git
git clone git@github.com:LucHermitte/lh-cpp.git
git clone git@github.com:LucHermitte/lh-dev.git
git clone git@github.com:LucHermitte/lh-style.git
git clone git@github.com:LucHermitte/lh-tags.git
git clone git@github.com:LucHermitte/lh-vim-lib.git
git clone git@github.com:LucHermitte/mu-template.git
git clone git@github.com:LucHermitte/searchInRuntime.git
git clone git@github.com:Shougo/denite.nvim.git
git clone git@github.com:Xuyuanp/nerdtree-git-plugin.git
git clone git@github.com:dpelle/vim-LanguageTool
git clone git@github.com:godlygeek/tabular.git
git clone git@github.com:jelera/vim-javascript-syntax.git
git clone git@github.com:junegunn/goyo.vim
git clone git@github.com:junegunn/limelight.vim
git clone git@github.com:kana/vim-textobj-user
git clone git@github.com:reedes/vim-lexical
git clone git@github.com:reedes/vim-litecorrect
git clone git@github.com:reedes/vim-pencil
git clone git@github.com:reedes/vim-textobj-quote
git clone git@github.com:reedes/vim-textobj-sentence
git clone git@github.com:reedes/vim-wordy.git
git clone git@github.com:rhysd/vim-grammarous
git clone git@github.com:roxma/nvim-yarp.git
git clone git@github.com:roxma/vim-hug-neovim-rpc
git clone git@github.com:ryanoasis/vim-devicons.git
git clone git@github.com:scrooloose/nerdtree.git
git clone git@github.com:tomasr/molokai.git
git clone git@github.com:tomtom/stakeholders_vim.git
git clone git@github.com:tpope/vim-bundler.git
git clone git@github.com:tpope/vim-fugitive.git
git clone git@github.com:tpope/vim-git
git clone git@github.com:tpope/vim-rails.git
git clone git@github.com:vim-airline/vim-airline
git clone git@github.com:vim-syntastic/syntastic.git
git clone git@github.com:z0mbix/vim-shfmt.git

# install colorscheme
git clone https://github.com/shannonmoeller/vim-monokai256 ./colorscheme
mv ./colorscheme/colors/* ~/.vim/colors/
rm -rf ./colorscheme

# install oh-my-zsh plugins
cd ~/.oh-my-zsh/plugins || exit 1
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git

# install securemodeline
git clone git@github.com:ciaranm/securemodelines.git ./securemodelines
mv ./securemodelines/plugin/* ~/.vim/plugin/
rm -rf ./securemodelines

pip3 install --user pynvim

# Git configuration for the default user, will still have to specify
# email address

git config --global core.editor vim
git config --global user.name "David Craddock"

# install font for vim-fonts
echo ""
echo ""
echo " -!-!-!- "
if echo $os | grep 'Darwin'; then
  echo "If using iterm2, set your font in iterm2 settings to a Powerline font both for ASCII and non-ASCII font types!"
  echo "and then run deploy-iterm2-default-profile.sh"
else
  echo "WARNING: Linux detected. You will have to install your nerdfont manually, download DroidSansNerdFontMono from https://github.com/ryanoasis/nerd-fonts"
  echo "after this, you will have to set your terminal emulator to use said font."
fi
echo " -!-!-!- "
echo "ONCE DONE - open new terminal and you're complete"
echo ""
echo ""
